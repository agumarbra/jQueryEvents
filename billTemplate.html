<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Factura</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <style>
        table,
        th,
        td {
            border-collapse: collapse;
            border: 2px solid black;
        }

        p {
            padding: 0px;
            margin: 0px;
            margin-top: 10px;
        }

        button {
            margin-top: 20px;
        }

        .todo {
            display: flex;
            flex-direction: row;
        }

        #form-content {
            margin-left: 70px;
        }
    </style>
    <script>
        $(document).ready(function () {
            $("#product").focus();
            var total = 0;
            $("#product").keyup(function (event) {
                if (event.keyCode === 13) {
                    $("#btn-add-product").click();
                }
            });
            $("#unit-price").keyup(function (event) {
                if (event.keyCode === 13) {
                    $("#btn-add-product").click();
                }
            });
            $("#amount").keyup(function (event) {
                if (event.keyCode === 13) {
                    $("#btn-add-product").click();
                }
            });
            $(".total").each(function (index) {

                var precio = $(this).siblings(".precio").text();
                var unidades = $(this).siblings(".unidades").text();
                var tot = precio * unidades;
                total = total + tot;

                $(this).html(tot);

                $(".canTot").html(total);
            });
            $("#btn-add-product").click(function () {

                $("#table-product").append("<tr><td>" + ($("#form>form>input:nth-of-type(1)").val()) + "</td><td class='precio'>" + ($("#form>form>input:nth-of-type(2)").val()) + "</td><td class='unidades'>" + ($("#form>form>input:nth-of-type(3)").val()) + "</td><td class='total'>" + ($("#form>form>input:nth-of-type(4)").val()) + "</td></tr>");

                $("#table-product tr:nth-last-child(2)").remove();

                total = 0;

                $(".total").each(function (index) {

                    var precio = $(this).siblings(".precio").text();
                    var unidades = $(this).siblings(".unidades").text();
                    var tot = precio * unidades;
                    total = total + tot;

                    $(this).html(tot);
                });

                $("#table-product").append("<tr><td>" + "" + "</td><td>" + "" + "</td><td>" + "" + "</td><td class='canTot'>" + "Total" + "</td></tr>");

                $(".canTot").html(total);
                $("#product").val('');
                $("#unit-price").val('');
                $("#amount").val('');
                $("#product").focus();
            });
        });
    </script>
</head>

<body>
    <div class="todo">
        <div id="content">
            <table id="table-product">
                <tr>
                    <th>Artículo</th>
                    <th>Precio unitario</th>
                    <th>Unidades</th>
                    <th>Precio total</th>
                </tr>
                <tr>
                    <td>Ordenador</td>
                    <td class="precio">600</td>
                    <td class="unidades">2</td>
                    <td class="total">x</td>
                </tr>
                <tr>
                    <td>Móvil</td>
                    <td class="precio">200</td>
                    <td class="unidades">4</td>
                    <td class="total">y</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="canTot">Total</td>
                </tr>
            </table>
        </div>

        <div id="form-content">
            <div id="form">
                <form>
                    <p>Producto</p>
                    <input id="product" type="text">
                    <p>Precio por unidad</p>
                    <input id="unit-price" type="text">
                    <p>Cantidad</p>
                    <input id="amount" type="text">
                </form>
                <button id="btn-add-product">Añadir producto</button>
            </div>
        </div>
    </div>

</body>

</html>